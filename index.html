<!DOCTYPE html>
<html>
    <script src="parse.js"></script>
    <head>
        <title>Config Converter</title>
    </head>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400&display=swap');
body{
    font-family: 'Montserrat';
    color: white;
    overflow-x: hidden;
    background-color: #111112
}

        .wrapper {
  display: flex;
  box-shadow: 0 4px 8px 0 rgb(0 0 0 / 20%), 0 6px 20px 0 rgb(0 0 0 / 19%);
}

.left {
  flex: 0 0 15%;
  background-color: #121213;
  padding: 20px;
}

.right {
  flex: 1;
  background-color: #161617;
  padding: 20px;
}

.keyboard{
    background-color: #808080;
    padding-left: 5px;
    padding-right: 5px;
    color: black;
    font-family: 'Source Code Pro';
    border-radius: 2px;
    box-shadow: 0 4px 8px 0 rgb(0 0 0 / 20%), 0 6px 20px 0 rgb(0 0 0 / 19%);
}

.container {
	width: 100%;
	max-width: 100%;
	margin-top: 100px;
	margin-bottom: 100px;
	margin-left: auto;
	margin-right: auto;
	padding: 0 20px;
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
	gap: 40px;

}


.product-card {
	max-width: 600px;
	flex-basis: 300px;
	padding: 17px;
	border-radius: 10px;
	background-color: #232324;
	word-break: break-all;
	color: var(--white);
	font-size: 18px;
	position: relative;
    box-shadow: 0 4px 8px 0 rgb(0 0 0 / 20%), 0 6px 20px 0 rgb(0 0 0 / 19%);
    line-height: 1.5;
	@media screen and (max-width: 440px) {
		max-width: 100%;
	}
    

    

}

button{

border: none;
padding: 10px;
border-radius: 3px;
background-color: #232324;
color: white;
font-family: 'Montserrat';
cursor: pointer;
}
button:hover{
background-color: #272728;
}




    </style>
    <body>
        <div class="wrapper">
            <div class="left">
                <textarea id="input" style="height: 400px; width: 99%; background-color: #202021; border: none; color: white; border-radius: 2px; resize: vertical;"></textarea><br><br>
                <input id="files" type="file"><br><br>
                <button onclick="convert()">Convert</button><br><br>
            </div>
            <div class="right">
                <h1 id="configtext" style="text-align: center;">Enter a config...</h1>
                <div id="configs" class="container">
                   
                </div>
            </div>
        </div>
        
    </body>
    <script>
        document.getElementById('files')
.addEventListener('change', function() {
  
    document.getElementById("configtext").innerHTML = "Info for: " + event.target.files[0].name.replace(/.h/g, "")
var fr=new FileReader();
fr.onload=function(){
    
    let code =  "\"" + fr.result.replace(/\"/g, "\\\"").replace(/\n/g, "") + "\""
    let x = JSON.parse(code)
    let config = JSON.parse(x)
    let html = ""
    let segment = ""
    for (var firstKey in config) {
        segment = ""
        if(firstKey == "ClickGui")
        {
        segment = "<div class=\"product-card\"><h2>" + firstKey + " [BROKEN]</h2>"
        }
        else{
        segment = "<div class=\"product-card\"><h2>" + firstKey + "</h2>"
        }
        for (var secondKey in config[firstKey]) {
            if(secondKey == "keybind")
            {

                let keycode = ""
                if(config[firstKey][secondKey] == 0)
                {
                    keycode = "NONE"
                }
                else{
                    keycode = String.fromCharCode(config[firstKey][secondKey])
                }
                segment = segment + secondKey + ": <label class=\"keyboard\"> " + keycode + "</label><br>"
            }
            else{
           segment = segment + secondKey + ": <b>" + config[firstKey][secondKey] + "</b><br>"
            }
            
        }
        html += segment + "</div>"
      }
    document.getElementById("configs").innerHTML = html
}
  
fr.readAsText(this.files[0]);
})

    </script>
</html>